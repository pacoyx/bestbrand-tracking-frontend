import{a as Mt}from"./chunk-JNTUF4FD.js";import{a as zt,b as Bt,c as jt,d as Ut,e as Lt,f as qt,h as pe,i as $,q as Qt,r as Wt,s as Yt}from"./chunk-ACSBTJ2Z.js";import{a as Dt}from"./chunk-EEAIG6PH.js";import{A as Ot,B as Rt,C as Ft,D as Vt,E as Nt,F as Gt,k as yt,l as Pe,p as At,s as Tt,t as H,u as J,v as ue,w as Z,x as X,y as K,z as Pt}from"./chunk-EWYNIEHO.js";import{A as mt,B as ut,F as pt,G as j,H as ht,Ha as It,Ia as me,Ja as U,Ka as wt,Ma as T,Na as L,Oa as xt,Pa as Et,Sa as q,Ta as Q,Va as W,W as gt,Wa as Y,X as le,Ya as P,Za as O,eb as St,ha as bt,l as Ae,m as dt,n as z,oa as Te,p as ct,qa as ft,ra as _t,s as B,t as st,ta as vt,w as se,x as lt,xa as Ct,ya as kt}from"./chunk-D7MMK2W6.js";import{$ as Be,$a as f,$b as oe,Aa as E,Ab as x,Ba as Qe,Bb as Ze,Bc as D,Cc as ye,Da as ie,Db as Xe,Eb as Ke,Fb as n,Gb as a,Hb as _,Ja as We,Lb as C,Ob as l,Qb as b,Rb as $e,Sb as et,Tb as tt,Tc as ce,Ub as N,Uc as nt,Vb as R,Wa as Ye,Wb as F,Yc as G,Zb as it,_ as ze,_a as c,_b as d,aa as y,ac as M,ca as xe,cc as ae,dc as re,ea as je,ec as ne,fa as g,fc as de,gc as k,hc as ot,j as Ge,ja as v,ka as A,kc as at,la as Ue,lc as rt,nb as Ee,qb as w,sa as p,t as te,ta as h,tb as He,ub as Me,vb as u,xa as Le,xb as De,ya as qe,yb as Je,yc as Se}from"./chunk-DAU7DYSH.js";var ai=["input"],ri=["formField"],ni=["*"],Ht=0,he=class{constructor(r,e){this.source=r,this.value=e}},di={provide:dt,useExisting:ze(()=>Oe),multi:!0},Jt=new xe("MatRadioGroup"),ci=new xe("mat-radio-default-options",{providedIn:"root",factory:si});function si(){return{color:"accent",disabledInteractive:!1}}var Oe=(()=>{class o{get name(){return this._name}set name(e){this._name=e,this._updateRadioButtonNames()}get labelPosition(){return this._labelPosition}set labelPosition(e){this._labelPosition=e==="before"?"before":"after",this._markRadiosForCheck()}get value(){return this._value}set value(e){this._value!==e&&(this._value=e,this._updateSelectedRadioFromValue(),this._checkSelectedRadioButton())}_checkSelectedRadioButton(){this._selected&&!this._selected.checked&&(this._selected.checked=!0)}get selected(){return this._selected}set selected(e){this._selected=e,this.value=e?e.value:null,this._checkSelectedRadioButton()}get disabled(){return this._disabled}set disabled(e){this._disabled=e,this._markRadiosForCheck()}get required(){return this._required}set required(e){this._required=e,this._markRadiosForCheck()}get disabledInteractive(){return this._disabledInteractive}set disabledInteractive(e){this._disabledInteractive=e,this._markRadiosForCheck()}constructor(e){this._changeDetector=e,this._value=null,this._name=`mat-radio-group-${Ht++}`,this._selected=null,this._isInitialized=!1,this._labelPosition="after",this._disabled=!1,this._required=!1,this._controlValueAccessorChangeFn=()=>{},this.onTouched=()=>{},this.change=new E,this._disabledInteractive=!1}ngAfterContentInit(){this._isInitialized=!0,this._buttonChanges=this._radios.changes.subscribe(()=>{this.selected&&!this._radios.find(e=>e===this.selected)&&(this._selected=null)})}ngOnDestroy(){this._buttonChanges?.unsubscribe()}_touch(){this.onTouched&&this.onTouched()}_updateRadioButtonNames(){this._radios&&this._radios.forEach(e=>{e.name=this.name,e._markForCheck()})}_updateSelectedRadioFromValue(){let e=this._selected!==null&&this._selected.value===this._value;this._radios&&!e&&(this._selected=null,this._radios.forEach(t=>{t.checked=this.value===t.value,t.checked&&(this._selected=t)}))}_emitChangeEvent(){this._isInitialized&&this.change.emit(new he(this._selected,this._value))}_markRadiosForCheck(){this._radios&&this._radios.forEach(e=>e._markForCheck())}writeValue(e){this.value=e,this._changeDetector.markForCheck()}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetector.markForCheck()}static{this.\u0275fac=function(t){return new(t||o)(f(Se))}}static{this.\u0275dir=Ue({type:o,selectors:[["mat-radio-group"]],contentQueries:function(t,i,s){if(t&1&&tt(s,ge,5),t&2){let m;R(m=F())&&(i._radios=m)}},hostAttrs:["role","radiogroup",1,"mat-mdc-radio-group"],inputs:{color:"color",name:"name",labelPosition:"labelPosition",value:"value",selected:"selected",disabled:[2,"disabled","disabled",D],required:[2,"required","required",D],disabledInteractive:[2,"disabledInteractive","disabledInteractive",D]},outputs:{change:"change"},exportAs:["matRadioGroup"],standalone:!0,features:[de([di,{provide:Jt,useExisting:o}]),Ee]})}}return o})(),ge=(()=>{class o{get checked(){return this._checked}set checked(e){this._checked!==e&&(this._checked=e,e&&this.radioGroup&&this.radioGroup.value!==this.value?this.radioGroup.selected=this:!e&&this.radioGroup&&this.radioGroup.value===this.value&&(this.radioGroup.selected=null),e&&this._radioDispatcher.notify(this.id,this.name),this._changeDetector.markForCheck())}get value(){return this._value}set value(e){this._value!==e&&(this._value=e,this.radioGroup!==null&&(this.checked||(this.checked=this.radioGroup.value===e),this.checked&&(this.radioGroup.selected=this)))}get labelPosition(){return this._labelPosition||this.radioGroup&&this.radioGroup.labelPosition||"after"}set labelPosition(e){this._labelPosition=e}get disabled(){return this._disabled||this.radioGroup!==null&&this.radioGroup.disabled}set disabled(e){this._setDisabled(e)}get required(){return this._required||this.radioGroup&&this.radioGroup.required}set required(e){this._required=e}get color(){return this._color||this.radioGroup&&this.radioGroup.color||this._defaultOptions&&this._defaultOptions.color||"accent"}set color(e){this._color=e}get disabledInteractive(){return this._disabledInteractive||this.radioGroup!==null&&this.radioGroup.disabledInteractive}set disabledInteractive(e){this._disabledInteractive=e}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(e,t,i,s,m,I,V,ee){this._elementRef=t,this._changeDetector=i,this._focusMonitor=s,this._radioDispatcher=m,this._defaultOptions=V,this._ngZone=g(Qe),this._uniqueId=`mat-radio-${++Ht}`,this.id=this._uniqueId,this.disableRipple=!1,this.tabIndex=0,this.change=new E,this._checked=!1,this._value=null,this._removeUniqueSelectionListener=()=>{},this._injector=g(qe),this._onInputClick=oi=>{this.disabled&&this.disabledInteractive&&oi.preventDefault()},this.radioGroup=e,this._noopAnimations=I==="NoopAnimations",this._disabledInteractive=V?.disabledInteractive??!1,ee&&(this.tabIndex=ye(ee,0))}focus(e,t){t?this._focusMonitor.focusVia(this._inputElement,t,e):this._inputElement.nativeElement.focus(e)}_markForCheck(){this._changeDetector.markForCheck()}ngOnInit(){this.radioGroup&&(this.checked=this.radioGroup.value===this._value,this.checked&&(this.radioGroup.selected=this),this.name=this.radioGroup.name),this._removeUniqueSelectionListener=this._radioDispatcher.listen((e,t)=>{e!==this.id&&t===this.name&&(this.checked=!1)})}ngDoCheck(){this._updateTabIndex()}ngAfterViewInit(){this._updateTabIndex(),this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{!e&&this.radioGroup&&this.radioGroup._touch()}),this._ngZone.runOutsideAngular(()=>{this._inputElement.nativeElement.addEventListener("click",this._onInputClick)})}ngOnDestroy(){this._inputElement?.nativeElement.removeEventListener("click",this._onInputClick),this._focusMonitor.stopMonitoring(this._elementRef),this._removeUniqueSelectionListener()}_emitChangeEvent(){this.change.emit(new he(this,this._value))}_isRippleDisabled(){return this.disableRipple||this.disabled}_onInputInteraction(e){if(e.stopPropagation(),!this.checked&&!this.disabled){let t=this.radioGroup&&this.value!==this.radioGroup.value;this.checked=!0,this._emitChangeEvent(),this.radioGroup&&(this.radioGroup._controlValueAccessorChangeFn(this.value),t&&this.radioGroup._emitChangeEvent())}}_onTouchTargetClick(e){this._onInputInteraction(e),(!this.disabled||this.disabledInteractive)&&this._inputElement?.nativeElement.focus()}_setDisabled(e){this._disabled!==e&&(this._disabled=e,this._changeDetector.markForCheck())}_updateTabIndex(){let e=this.radioGroup,t;if(!e||!e.selected||this.disabled?t=this.tabIndex:t=e.selected===this?this.tabIndex:-1,t!==this._previousTabIndex){let i=this._inputElement?.nativeElement;i&&(i.setAttribute("tabindex",t+""),this._previousTabIndex=t,He(()=>{queueMicrotask(()=>{e&&e.selected&&e.selected!==this&&document.activeElement===i&&(e.selected?._inputElement.nativeElement.focus(),document.activeElement===i&&this._inputElement.nativeElement.blur())})},{injector:this._injector}))}}static{this.\u0275fac=function(t){return new(t||o)(f(Jt,8),f(ie),f(Se),f(bt),f(St),f(We,8),f(ci,8),Le("tabindex"))}}static{this.\u0275cmp=v({type:o,selectors:[["mat-radio-button"]],viewQuery:function(t,i){if(t&1&&(N(ai,5),N(ri,7,ie)),t&2){let s;R(s=F())&&(i._inputElement=s.first),R(s=F())&&(i._rippleTrigger=s.first)}},hostAttrs:[1,"mat-mdc-radio-button"],hostVars:19,hostBindings:function(t,i){t&1&&l("focus",function(){return i._inputElement.nativeElement.focus()}),t&2&&(Me("id",i.id)("tabindex",null)("aria-label",null)("aria-labelledby",null)("aria-describedby",null),De("mat-primary",i.color==="primary")("mat-accent",i.color==="accent")("mat-warn",i.color==="warn")("mat-mdc-radio-checked",i.checked)("mat-mdc-radio-disabled",i.disabled)("mat-mdc-radio-disabled-interactive",i.disabledInteractive)("_mat-animation-noopable",i._noopAnimations))},inputs:{id:"id",name:"name",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],disableRipple:[2,"disableRipple","disableRipple",D],tabIndex:[2,"tabIndex","tabIndex",e=>e==null?0:ye(e)],checked:[2,"checked","checked",D],value:"value",labelPosition:"labelPosition",disabled:[2,"disabled","disabled",D],required:[2,"required","required",D],color:"color",disabledInteractive:[2,"disabledInteractive","disabledInteractive",D]},outputs:{change:"change"},exportAs:["matRadioButton"],standalone:!0,features:[Ee,k],ngContentSelectors:ni,decls:13,vars:17,consts:[["formField",""],["input",""],["mat-internal-form-field","",3,"labelPosition"],[1,"mdc-radio"],[1,"mat-mdc-radio-touch-target",3,"click"],["type","radio",1,"mdc-radio__native-control",3,"change","id","checked","disabled","required"],[1,"mdc-radio__background"],[1,"mdc-radio__outer-circle"],[1,"mdc-radio__inner-circle"],["mat-ripple","",1,"mat-radio-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mat-ripple-element","mat-radio-persistent-ripple"],[1,"mdc-label",3,"for"]],template:function(t,i){if(t&1){let s=C();$e(),n(0,"div",2,0)(2,"div",3)(3,"div",4),l("click",function(I){return p(s),h(i._onTouchTargetClick(I))}),a(),n(4,"input",5,1),l("change",function(I){return p(s),h(i._onInputInteraction(I))}),a(),n(6,"div",6),_(7,"div",7)(8,"div",8),a(),n(9,"div",9),_(10,"div",10),a()(),n(11,"label",11),et(12),a()()}t&2&&(u("labelPosition",i.labelPosition),c(2),De("mdc-radio--disabled",i.disabled),c(2),u("id",i.inputId)("checked",i.checked)("disabled",i.disabled&&!i.disabledInteractive)("required",i.required),Me("name",i.name)("value",i.value)("aria-label",i.ariaLabel)("aria-labelledby",i.ariaLabelledby)("aria-describedby",i.ariaDescribedby)("aria-disabled",i.disabled&&i.disabledInteractive?"true":null),c(5),u("matRippleTrigger",i._rippleTrigger.nativeElement)("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",!0),c(2),u("for",i.inputId))},dependencies:[Ct,It],styles:['.mat-mdc-radio-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-radio-button .mdc-radio{display:inline-block;position:relative;flex:0 0 auto;box-sizing:content-box;width:20px;height:20px;cursor:pointer;will-change:opacity,transform,border-color,color;padding:calc((var(--mdc-radio-state-layer-size) - 20px)/2)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:not([disabled]):not(:focus)~.mdc-radio__background::before{opacity:.04;transform:scale(1)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:not([disabled])~.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-hover-icon-color, var(--mat-app-on-surface))}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-hover-icon-color, var(--mat-app-primary))}.mat-mdc-radio-button .mdc-radio:active .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-pressed-icon-color, var(--mat-app-on-surface))}.mat-mdc-radio-button .mdc-radio:active .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio:active .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-pressed-icon-color, var(--mat-app-primary))}.mat-mdc-radio-button .mdc-radio__background{display:inline-block;position:relative;box-sizing:border-box;width:20px;height:20px}.mat-mdc-radio-button .mdc-radio__background::before{position:absolute;transform:scale(0, 0);border-radius:50%;opacity:0;pointer-events:none;content:"";transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1);width:var(--mdc-radio-state-layer-size);height:var(--mdc-radio-state-layer-size);top:calc(-1*(var(--mdc-radio-state-layer-size) - 20px)/2);left:calc(-1*(var(--mdc-radio-state-layer-size) - 20px)/2)}.mat-mdc-radio-button .mdc-radio__outer-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;border-width:2px;border-style:solid;border-radius:50%;transition:border-color 90ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-radio-button .mdc-radio__inner-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;transform:scale(0, 0);border-width:10px;border-style:solid;border-radius:50%;transition:transform 90ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-radio-button .mdc-radio__native-control{position:absolute;margin:0;padding:0;opacity:0;top:0;right:0;left:0;cursor:inherit;z-index:1;width:var(--mdc-radio-state-layer-size);height:var(--mdc-radio-state-layer-size)}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background{transition:opacity 90ms cubic-bezier(0, 0, 0.2, 1),transform 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__outer-circle{transition:border-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{transition:transform 90ms cubic-bezier(0, 0, 0.2, 1),border-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:focus+.mdc-radio__background::before{transform:scale(1);opacity:.12;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 1),transform 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-unselected-icon-color, var(--mat-app-on-surface));opacity:var(--mdc-radio-disabled-unselected-icon-opacity)}.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background{cursor:default}.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-selected-icon-color, var(--mat-app-on-surface));opacity:var(--mdc-radio-disabled-selected-icon-opacity)}.mat-mdc-radio-button .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-icon-color, var(--mat-app-on-surface-variant))}.mat-mdc-radio-button .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-icon-color, var(--mat-app-primary))}.mat-mdc-radio-button .mdc-radio__native-control:enabled:focus:checked+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio__native-control:enabled:focus:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-focus-icon-color, var(--mat-app-primary))}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle{transform:scale(0.5);transition:transform 90ms cubic-bezier(0, 0, 0.2, 1),border-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled{pointer-events:auto}.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__native-control:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-unselected-icon-color, var(--mat-app-on-surface));opacity:var(--mdc-radio-disabled-unselected-icon-opacity)}.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled:hover .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled:hover .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__native-control:checked:focus+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__native-control:checked:focus+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__native-control+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__native-control+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-selected-icon-color, var(--mat-app-on-surface));opacity:var(--mdc-radio-disabled-selected-icon-opacity)}.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__background::before,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__outer-circle,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__inner-circle{transition:none !important}.mat-mdc-radio-button .mdc-radio__background::before{background-color:var(--mat-radio-ripple-color, var(--mat-app-on-surface))}.mat-mdc-radio-button.mat-mdc-radio-checked .mat-ripple-element,.mat-mdc-radio-button.mat-mdc-radio-checked .mdc-radio__background::before{background-color:var(--mat-radio-checked-ripple-color, var(--mat-app-primary))}.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mat-ripple-element,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__background::before{background-color:var(--mat-radio-ripple-color, var(--mat-app-on-surface))}.mat-mdc-radio-button .mat-internal-form-field{color:var(--mat-radio-label-text-color, var(--mat-app-on-surface));font-family:var(--mat-radio-label-text-font, var(--mat-app-body-medium-font));line-height:var(--mat-radio-label-text-line-height, var(--mat-app-body-medium-line-height));font-size:var(--mat-radio-label-text-size, var(--mat-app-body-medium-size));letter-spacing:var(--mat-radio-label-text-tracking, var(--mat-app-body-medium-tracking));font-weight:var(--mat-radio-label-text-weight, var(--mat-app-body-medium-weight))}.mat-mdc-radio-button .mdc-radio--disabled+label{color:var(--mat-radio-disabled-label-color)}.mat-mdc-radio-button .mat-radio-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:50%}.mat-mdc-radio-button .mat-radio-ripple .mat-ripple-element{opacity:.14}.mat-mdc-radio-button .mat-radio-ripple::before{border-radius:50%}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:focus:enabled:not(:checked)~.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-focus-icon-color, var(--mat-app-on-surface))}.mat-mdc-radio-button.cdk-focused .mat-mdc-focus-indicator::before{content:""}.mat-mdc-radio-disabled{cursor:default;pointer-events:none}.mat-mdc-radio-disabled.mat-mdc-radio-disabled-interactive{pointer-events:auto}.mat-mdc-radio-touch-target{position:absolute;top:50%;left:50%;height:48px;width:48px;transform:translate(-50%, -50%);display:var(--mat-radio-touch-target-display)}[dir=rtl] .mat-mdc-radio-touch-target{left:auto;right:50%;transform:translate(50%, -50%)}'],encapsulation:2,changeDetection:0})}}return o})(),Zt=(()=>{class o{static{this.\u0275fac=function(t){return new(t||o)}}static{this.\u0275mod=A({type:o})}static{this.\u0275inj=y({imports:[Te,G,kt,ge,Te]})}}return o})();var be=class o{constructor(r,e){this.fb=r;this.dialogRef=e;this.asignarForm=this.fb.group({id:0,estado:["",ct.required],comentarios:""})}data=g(J);conductorService=g($);loadingSave=!1;asignarForm;titulo="Actualizar Pedido";ngOnInit(){this.data&&this.asignarForm.patchValue({id:this.data.pedido.id,estado:this.data.pedido.estadoPedido})}grabar(){if(this.asignarForm.invalid)return;let e=new Date(new Date().getTime()-5*60*60*1e3).toISOString().split("T")[0];this.loadingSave=!0;let t={pedidoId:this.asignarForm.value.id,estadoPedido:this.asignarForm.value.estado,comentarios:this.asignarForm.value.comentarios,fechaEntrega:e,nombreFoto:"",conductorId:this.data.pedido.conductorId||0};this.conductorService.actualizarEstadoPedido(t.pedidoId,t).subscribe({next:i=>{this.loadingSave=!1,i.data?this.dialogRef.close(!0):console.error("Error updating order status:",i.message)},error:i=>{this.loadingSave=!1,console.error("Error:",i)}})}onCancel(){this.dialogRef.close(!1)}static \u0275fac=function(e){return new(e||o)(f(pt),f(H))};static \u0275cmp=v({type:o,selectors:[["app-dialog-form-actualizar-estado-pedido"]],standalone:!0,features:[k],decls:38,vars:2,consts:[["mat-dialog-title",""],[3,"formGroup"],[2,"display","flex","flex-direction","column","gap","20px","padding","20px"],[2,"width","100%","display","flex","justify-content","space-between","align-items","center"],["aria-label","Select an option","formControlName","estado",2,"padding","12px 16px","border","2px solid #e0e0e0","border-radius","8px","background-color","#fafafa","transition","all 0.3s ease","font-weight","500","color","#666","min-width","120px"],["value","ASIGNADO"],["value","EN_TRANSITO"],["value","ENTREGADO"],["value","CANCELADO"],[2,"display","flex","flex-direction","column","width","100%"],["appearance","outline",2,"width","100%"],["matInput","","rows","3","formControlName","comentarios"],[2,"display","flex","justify-content","space-between","align-items","center","gap","10px","border","1px solid gainsboro","padding","10px"],["mat-fab","","extended",""],[2,"display","flex","align-items","center","justify-content","center","width","100px","height","100px","border","1px solid gainsboro"],["src","","alt",""],[2,"display","flex","justify-content","space-evenly"],["mat-fab","","extended","",3,"click"],[2,"color","red"]],template:function(e,t){e&1&&(n(0,"h2",0)(1,"mat-icon"),d(2,"edit_note"),a(),d(3),a(),n(4,"mat-dialog-content")(5,"form",1)(6,"div",2)(7,"div",3)(8,"mat-radio-group",4)(9,"mat-radio-button",5),d(10,"Asignado"),a(),n(11,"mat-radio-button",6),d(12,"En Transito"),a(),n(13,"mat-radio-button",7),d(14,"Entregado"),a(),n(15,"mat-radio-button",8),d(16,"Cancelado"),a()()(),n(17,"div",9)(18,"mat-form-field",10)(19,"mat-label"),d(20,"Comentarios"),a(),_(21,"textarea",11),a()(),n(22,"div",12)(23,"button",13)(24,"mat-icon"),d(25,"photo_camera"),a(),d(26," Foto "),a(),n(27,"div",14),_(28,"img",15),a()()()()(),n(29,"mat-dialog-actions",16)(30,"button",17),l("click",function(){return t.onCancel()}),n(31,"mat-icon",18),d(32,"cancel"),a(),d(33," Cancelar "),a(),n(34,"button",17),l("click",function(){return t.grabar()}),n(35,"mat-icon"),d(36,"save"),a(),d(37," Grabar "),a()()),e&2&&(c(3),M(" ",t.titulo,""),c(2),u("formGroup",t.asignarForm))},dependencies:[O,P,T,U,Q,q,L,Y,W,j,lt,z,B,st,ht,mt,ut,Zt,Oe,ge,K,Z,X],styles:[".custom-radio[_ngcontent-%COMP%]{color:#00f}"]})};var _e=class o{constructor(r){this.breakpointObserver=r;this.isMobile$=this.breakpointObserver.observe([le.Handset]).pipe(te(e=>e.matches)),this.isTablet$=this.breakpointObserver.observe([le.Tablet]).pipe(te(e=>e.matches)),this.isDesktop$=this.breakpointObserver.observe([le.Web]).pipe(te(e=>e.matches))}isMobile$;isTablet$;isDesktop$;static \u0275fac=function(e){return new(e||o)(je(gt))};static \u0275prov=Be({token:o,factory:o.\u0275fac,providedIn:"root"})};var ui=(o,r,e)=>({enTransito:o,enEntregado:r,enCancelado:e}),ve=class o{data=g(J);dialogRef=g(H);loadingSave=!1;titulo="Confirmar Estado";constructor(){}cancelar(){this.dialogRef.close({ok:!1})}confirmar(){this.loadingSave=!0,this.dialogRef.close({comentarios:this.txtComentarios,ok:!0})}txtComentarios="";static \u0275fac=function(e){return new(e||o)};static \u0275cmp=v({type:o,selectors:[["app-dialog-confirmar-estado"]],standalone:!0,features:[k],decls:21,vars:7,consts:[["mat-dialog-title",""],[3,"ngClass"],["appearance","outline",2,"width","100%"],["matInput","","rows","3","placeholder","Comentarios (opcional)",3,"ngModelChange","ngModel"],["mat-button","",3,"click"],["mat-raised-button","","cdkFocusInitial","",3,"click"]],template:function(e,t){e&1&&(n(0,"h2",0),d(1,"Cambiar estado del pedido"),a(),n(2,"mat-dialog-content")(3,"p"),d(4," \xBFEst\xE1 seguro de que desea cambiar el estado a "),n(5,"strong",1),d(6),a(),d(7,"? "),a(),n(8,"p"),d(9,"Este cambio no se puede deshacer."),a(),n(10,"p"),d(11,"Por favor, confirme su acci\xF3n."),a(),n(12,"mat-form-field",2)(13,"mat-label"),d(14,"Comentarios"),a(),n(15,"textarea",3),ne("ngModelChange",function(s){return re(t.txtComentarios,s)||(t.txtComentarios=s),s}),a()()(),n(16,"mat-dialog-actions")(17,"button",4),l("click",function(){return t.cancelar()}),d(18,"Cancelar"),a(),n(19,"button",5),l("click",function(){return t.confirmar()}),d(20,"Confirmar"),a()()),e&2&&(c(5),u("ngClass",at(3,ui,t.data.estado==="EN_TRANSITO",t.data.estado==="ENTREGADO",t.data.estado==="CANCELADO")),c(),oe(t.data.estado),c(9),ae("ngModel",t.txtComentarios))},dependencies:[Z,X,K,j,z,B,se,me,Q,q,L,Y,W,ce],styles:[".enTransito[_ngcontent-%COMP%]{padding:5px;text-align:center;color:#856404;background-color:#fff3cd;border:1px solid #ffeeba;border-radius:20px}.enEntregado[_ngcontent-%COMP%]{padding:5px;text-align:center;color:#004085;background-color:#cce5ff;border:1px solid #b8daff;border-radius:20px}.enCancelado[_ngcontent-%COMP%]{padding:5px;text-align:center;color:#721c24;background-color:#f8d7da;border:1px solid #f5c6cb;border-radius:20px}"]})};var pi=["video"],hi=["canvas"];function gi(o,r){if(o&1){let e=C();n(0,"div",6),l("click",function(){p(e);let i=b();return h(i.rotateVideoInput(!0))}),a()}}var Ve=class o{constructor(r,e,t){this._mimeType=null,this._imageAsBase64=null,this._imageAsDataUrl=null,this._imageData=null,this._mimeType=e,this._imageAsDataUrl=r,this._imageData=t}static getDataFromDataUrl(r,e){return r.replace(`data:${e};base64,`,"")}get imageAsBase64(){return this._imageAsBase64?this._imageAsBase64:this._imageAsBase64=o.getDataFromDataUrl(this._imageAsDataUrl,this._mimeType)}get imageAsDataUrl(){return this._imageAsDataUrl}get imageData(){return this._imageData}},Ne=class{static getAvailableVideoInputs(){return!navigator.mediaDevices||!navigator.mediaDevices.enumerateDevices?Promise.reject("enumerateDevices() not supported."):new Promise((r,e)=>{navigator.mediaDevices.enumerateDevices().then(t=>{r(t.filter(i=>i.kind==="videoinput"))}).catch(t=>{e(t.message||t)})})}},ei=(()=>{class o{constructor(){this.width=640,this.height=480,this.videoOptions=o.DEFAULT_VIDEO_OPTIONS,this.allowCameraSwitch=!0,this.captureImageData=!1,this.imageType=o.DEFAULT_IMAGE_TYPE,this.imageQuality=o.DEFAULT_IMAGE_QUALITY,this.imageCapture=new E,this.initError=new E,this.imageClick=new E,this.cameraSwitched=new E,this.availableVideoInputs=[],this.videoInitialized=!1,this.activeVideoInputIndex=-1,this.mediaStream=null,this.activeVideoSettings=null}set trigger(e){this.triggerSubscription&&this.triggerSubscription.unsubscribe(),this.triggerSubscription=e.subscribe(()=>{this.takeSnapshot()})}set switchCamera(e){this.switchCameraSubscription&&this.switchCameraSubscription.unsubscribe(),this.switchCameraSubscription=e.subscribe(t=>{typeof t=="string"?this.switchToVideoInput(t):this.rotateVideoInput(t!==!1)})}static getMediaConstraintsForDevice(e,t){let i=t||this.DEFAULT_VIDEO_OPTIONS;return e&&(i.deviceId={exact:e}),i}static getDeviceIdFromMediaStreamTrack(e){if(e.getSettings&&e.getSettings()&&e.getSettings().deviceId)return e.getSettings().deviceId;if(e.getConstraints&&e.getConstraints()&&e.getConstraints().deviceId){let t=e.getConstraints().deviceId;return o.getValueFromConstrainDOMString(t)}}static getFacingModeFromMediaStreamTrack(e){if(e){if(e.getSettings&&e.getSettings()&&e.getSettings().facingMode)return e.getSettings().facingMode;if(e.getConstraints&&e.getConstraints()&&e.getConstraints().facingMode){let t=e.getConstraints().facingMode;return o.getValueFromConstrainDOMString(t)}}}static isUserFacing(e){let t=o.getFacingModeFromMediaStreamTrack(e);return t?t.toLowerCase()==="user":!1}static getValueFromConstrainDOMString(e){if(e){if(e instanceof String)return String(e);if(Array.isArray(e)&&Array(e).length>0)return String(e[0]);if(typeof e=="object"){if(e.exact)return String(e.exact);if(e.ideal)return String(e.ideal)}}return null}ngAfterViewInit(){this.detectAvailableDevices().then(()=>{this.switchToVideoInput(null)}).catch(e=>{this.initError.next({message:e}),this.switchToVideoInput(null)})}ngOnDestroy(){this.stopMediaTracks(),this.unsubscribeFromSubscriptions()}takeSnapshot(){let e=this.nativeVideoElement,t={width:this.width,height:this.height};e.videoWidth&&(t.width=e.videoWidth,t.height=e.videoHeight);let i=this.canvas.nativeElement;i.width=t.width,i.height=t.height;let s=i.getContext("2d");s.drawImage(e,0,0);let m=this.imageType?this.imageType:o.DEFAULT_IMAGE_TYPE,I=this.imageQuality?this.imageQuality:o.DEFAULT_IMAGE_QUALITY,V=i.toDataURL(m,I),ee=null;this.captureImageData&&(ee=s.getImageData(0,0,i.width,i.height)),this.imageCapture.next(new Ve(V,m,ee))}rotateVideoInput(e){if(this.availableVideoInputs&&this.availableVideoInputs.length>1){let t=e?1:this.availableVideoInputs.length-1,i=(this.activeVideoInputIndex+t)%this.availableVideoInputs.length;this.switchToVideoInput(this.availableVideoInputs[i].deviceId)}}switchToVideoInput(e){this.videoInitialized=!1,this.stopMediaTracks(),this.initWebcam(e,this.videoOptions)}videoResize(){}get videoWidth(){let e=this.getVideoAspectRatio();return Math.min(this.width,this.height*e)}get videoHeight(){let e=this.getVideoAspectRatio();return Math.min(this.height,this.width/e)}get videoStyleClasses(){let e="";return this.isMirrorImage()&&(e+="mirrored "),e.trim()}get nativeVideoElement(){return this.video.nativeElement}getVideoAspectRatio(){let e=this.nativeVideoElement;return e.videoWidth&&e.videoWidth>0&&e.videoHeight&&e.videoHeight>0?e.videoWidth/e.videoHeight:this.width/this.height}initWebcam(e,t){let i=this.nativeVideoElement;if(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia){let s=o.getMediaConstraintsForDevice(e,t);navigator.mediaDevices.getUserMedia({video:s}).then(m=>{this.mediaStream=m,i.srcObject=m,i.play(),this.activeVideoSettings=m.getVideoTracks()[0].getSettings();let I=o.getDeviceIdFromMediaStreamTrack(m.getVideoTracks()[0]);this.cameraSwitched.next(I),this.detectAvailableDevices().then(()=>{this.activeVideoInputIndex=I?this.availableVideoInputs.findIndex(V=>V.deviceId===I):-1,this.videoInitialized=!0}).catch(()=>{this.activeVideoInputIndex=-1,this.videoInitialized=!0})}).catch(m=>{this.initError.next({message:m.message,mediaStreamError:m})})}else this.initError.next({message:"Cannot read UserMedia from MediaDevices."})}getActiveVideoTrack(){return this.mediaStream?this.mediaStream.getVideoTracks()[0]:null}isMirrorImage(){if(!this.getActiveVideoTrack())return!1;{let e="auto";switch(this.mirrorImage&&(typeof this.mirrorImage=="string"?e=String(this.mirrorImage).toLowerCase():this.mirrorImage.x&&(e=this.mirrorImage.x.toLowerCase())),e){case"always":return!0;case"never":return!1}}return o.isUserFacing(this.getActiveVideoTrack())}stopMediaTracks(){this.mediaStream&&this.mediaStream.getTracks&&(this.nativeVideoElement.pause(),this.mediaStream.getTracks().forEach(e=>e.stop()))}unsubscribeFromSubscriptions(){this.triggerSubscription&&this.triggerSubscription.unsubscribe(),this.switchCameraSubscription&&this.switchCameraSubscription.unsubscribe()}detectAvailableDevices(){return new Promise((e,t)=>{Ne.getAvailableVideoInputs().then(i=>{this.availableVideoInputs=i,e(i)}).catch(i=>{this.availableVideoInputs=[],t(i)})})}}return o.DEFAULT_VIDEO_OPTIONS={facingMode:"environment"},o.DEFAULT_IMAGE_TYPE="image/jpeg",o.DEFAULT_IMAGE_QUALITY=.92,o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=v({type:o,selectors:[["webcam"]],viewQuery:function(e,t){if(e&1&&(N(pi,7),N(hi,7)),e&2){let i;R(i=F())&&(t.video=i.first),R(i=F())&&(t.canvas=i.first)}},inputs:{width:"width",height:"height",videoOptions:"videoOptions",allowCameraSwitch:"allowCameraSwitch",mirrorImage:"mirrorImage",captureImageData:"captureImageData",imageType:"imageType",imageQuality:"imageQuality",trigger:"trigger",switchCamera:"switchCamera"},outputs:{imageCapture:"imageCapture",initError:"initError",imageClick:"imageClick",cameraSwitched:"cameraSwitched"},decls:6,vars:7,consts:[["video",""],["canvas",""],[1,"webcam-wrapper",3,"click"],["autoplay","","muted","","playsinline","",3,"resize","width","height"],["class","camera-switch",3,"click",4,"ngIf"],[3,"width","height"],[1,"camera-switch",3,"click"]],template:function(e,t){if(e&1){let i=C();n(0,"div",2),l("click",function(){return p(i),h(t.imageClick.next())}),n(1,"video",3,0),l("resize",function(){return p(i),h(t.videoResize())}),a(),w(3,gi,1,0,"div",4),_(4,"canvas",5,1),a()}e&2&&(c(),Je(t.videoStyleClasses),u("width",t.videoWidth)("height",t.videoHeight),c(2),u("ngIf",t.allowCameraSwitch&&t.availableVideoInputs.length>1&&t.videoInitialized),c(),u("width",t.width)("height",t.height))},dependencies:[nt],styles:[".webcam-wrapper[_ngcontent-%COMP%]{display:inline-block;position:relative;line-height:0}.webcam-wrapper[_ngcontent-%COMP%]   video.mirrored[_ngcontent-%COMP%]{transform:scaleX(-1)}.webcam-wrapper[_ngcontent-%COMP%]   canvas[_ngcontent-%COMP%]{display:none}.webcam-wrapper[_ngcontent-%COMP%]   .camera-switch[_ngcontent-%COMP%]{background-color:#0000001a;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAE9UlEQVR42u2aT2hdRRTGf+cRQqghSqihdBFDkRISK2KDfzDWxHaRQHEhaINKqa1gKQhd6EZLN+IidCH+Q0oWIkVRC21BQxXRitVaSbKoJSGtYGoK2tQ/tU1jY5v0c5F54Xl7b/KSO/PyEt+3e5f75p7zzZwzZ74zUEIJJfyfYaEGllQGVAGZlENdBy6Z2cSiYFTSKkkfS/pH/nBF0kFJdUW9AiRVASeAukD8DgNrzOySrwEzng18KaDzALXuG8W3AiStAvqBisBRNg40mtlPxbYCOgvgPO4bncWW+JpVeDQXRQhIygDfA00F5r0XuNfMrgclQFI98DDQCNQA5ZFXqoCWBVp8XwHRHeEqcN7loy/NbHBesyqpQ1KfFj/6nC+ZvFaApFrgPaCZpYVvgCfNbDiRAElNwGFg+RIt/X8H2s2s9wYCJDUAR4HqJX7++RN40MwGpgmQVAH0AQ2BPz4AHHPl8nBOAqtyFWQjsA6oL4Ada81sPDv7uwImod8kvSJp9RyS8O2SXnb/DYVd2Y9VSroQ4ANXJO2WVJmixqh0kzMWwL4LkiqRtDnA4D1zmfE8j9g9AezcnAHaPcfXdbfdnPZ2Yps6+DwAvO/Z1naTdApY7Xng48BDZnY1MpMVQBuw3iXc5Tnb0wBwBPjUzP6eoezuArZ6svM0geJLkvZEYnl3nkntoqROSbckSW2Suj3ZOIangc7GPJuUtNGdFIfmMeavktoSSKiW9LMPw30Q8JqkekmjCbOZRhuclLQjgYSNxUBAj6RyZ9ATgUJpUtJTCSR8vpAEXHAyWK5BXYFIGHOlepSAloUk4NEYgyoknQhEwhFJ0e8h6VSaQeerCb5uZgdi9utxYBNwOUD93hIVXswM4INCi6K9wAszFC2DwLOBDjHbYp59karIUnRdzYy/3ClqVklaUhfwTICj7K25OqA7a4wWagVsm4Me/xzwg2cCqqONFzO7DPxSCAJi436GUBgHHguQD2oTlJ55oSzP9ybccsttSJw1szdjFOSnI/8dTCGZHwcORp4Nx7y3B1iZ8/sm4MW8/Euxg5wIsS/HaAp3zeP4/G7obRDXI4jiTIA22H7Xdc7X+S3A5lC7QBQ357aq3VAjCeSkwUfAJrfvz+R8A9ADLAtZB+TinpjC5JMA+//jwPZZnF8G7J+L8z4IWB/zbG+gIujVWfLBW/NStVMmqaG4POJRsIjix7h8IGnLQuoBbQki5sVAJHyYm7YkNaRRtXwQ8G1cHpX0iKRrgUjYno17Sf0LrQhJUkdCeHWkVITGJI0k1QeS3ikGSUzOyJUJJNznYneuOCnpTldcxa2kP3xJYqOeSDjqZG8ShJLnE8TTuMS6Iyu1BW7djZqkfo9N0QOuYJmYQddfB7RG+gLTNzqAY9FrL+5/nwEbvDdJJe3zzOrhNP3AWRqmk55t3ZcBuj3b2gb0Sbrbo/NNzk7fFzu7s/E5EiC+rrmeQU0Kx2skvRFoOx2ZzlmSdgbsw49JetvtBpk8nM64d/cGbNtJ0s7cGyJlwHeEv+t3nqnLSgPAUOSGyG3AHUxdzqoJbEcvcL+ZTeTeEapzJKxgaeOcc/7Mf06D7kFrguS0VDAMtGadv+E47DT9tcChJej8ISfpD+abgTe45uOkFi8mnQ+JBVQ+d4VXuOptjavcyot8pq86mfwk8LWZnaOEEkoooYQSSojDv8AhQNeGfe0jAAAAAElFTkSuQmCC);background-repeat:no-repeat;border-radius:5px;position:absolute;right:13px;top:10px;height:48px;width:48px;background-size:80%;cursor:pointer;background-position:center;transition:background-color .2s ease}.webcam-wrapper[_ngcontent-%COMP%]   .camera-switch[_ngcontent-%COMP%]:hover{background-color:#0000002e}"]}),o})();var ti=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=A({type:o}),o.\u0275inj=y({imports:[[G]]}),o})();var fi=()=>({facingMode:"environment"});function _i(o,r){if(o&1){let e=C();n(0,"div",2)(1,"webcam",8),l("imageCapture",function(i){p(e);let s=b();return h(s.handleImage(i))})("initError",function(i){p(e);let s=b();return h(s.handleInitError(i))}),a(),n(2,"div",9)(3,"button",10),l("click",function(){p(e);let i=b();return h(i.triggerSnapshot())}),n(4,"mat-icon"),d(5,"camera_alt"),a()()()()}if(o&2){let e=b();c(),u("trigger",e.triggerObservable)("allowCameraSwitch",!0)("videoOptions",ot(4,fi))("captureImageData",!0)}}function vi(o,r){if(o&1){let e=C();n(0,"div",3),_(1,"img",11),n(2,"div",12)(3,"button",13),l("click",function(){p(e);let i=b();return h(i.retakePhoto())}),n(4,"mat-icon"),d(5,"refresh"),a(),d(6," Tomar otra foto "),a()()()}if(o&2){let e=b();c(),u("src",e.webcamImage.imageAsDataUrl,Ye)}}function Ci(o,r){if(o&1&&(n(0,"div",4)(1,"p",14)(2,"mat-icon"),d(3,"error"),a(),d(4),a()()),o&2){let e=b();c(4),M(" Error al acceder a la c\xE1mara: ",e.errors[0].message," ")}}var Ce=class o{constructor(r,e){this.dialogRef=r;this.data=e}trigger=new Ge;webcamImage=null;showWebcam=!0;errors=[];triggerSnapshot(){this.trigger.next()}handleImage(r){console.info("Imagen capturada:",r),this.webcamImage=r,this.showWebcam=!1}handleInitError(r){this.errors.push(r),console.error("Error inicializando webcam:",r)}get triggerObservable(){return this.trigger.asObservable()}retakePhoto(){this.webcamImage=null,this.showWebcam=!0}cancelar(){this.dialogRef.close({ok:!1})}confirmar(){this.webcamImage?this.dialogRef.close({ok:!0,imageAsDataUrl:this.webcamImage.imageAsDataUrl,imageAsBase64:this.webcamImage.imageAsBase64}):this.dialogRef.close({ok:!1})}static \u0275fac=function(e){return new(e||o)(f(H),f(J))};static \u0275cmp=v({type:o,selectors:[["app-dialog-webcam"]],standalone:!0,features:[k],decls:19,vars:4,consts:[["mat-dialog-title",""],[1,"webcam-container"],[1,"camera-section"],[1,"image-preview"],[1,"error-section"],[2,"display","flex","justify-content","space-between","width","100%"],["mat-button","","color","warn",3,"click"],["mat-raised-button","","color","primary",3,"click","disabled"],[3,"imageCapture","initError","trigger","allowCameraSwitch","videoOptions","captureImageData"],[1,"capture-controls"],["mat-fab","","color","primary",1,"capture-button",3,"click"],["alt","Foto capturada",1,"captured-image",3,"src"],[1,"preview-controls"],["mat-raised-button","","color","primary",3,"click"],[1,"error-message"]],template:function(e,t){e&1&&(n(0,"h2",0)(1,"mat-icon"),d(2,"photo_camera"),a(),d(3,` Tomar Fotograf\xEDa
`),a(),n(4,"mat-dialog-content")(5,"div",1),w(6,_i,6,5,"div",2)(7,vi,7,1,"div",3)(8,Ci,5,1,"div",4),a()(),n(9,"mat-dialog-actions")(10,"div",5)(11,"button",6),l("click",function(){return t.cancelar()}),n(12,"mat-icon"),d(13,"cancel"),a(),d(14," Cancelar "),a(),n(15,"button",7),l("click",function(){return t.confirmar()}),n(16,"mat-icon"),d(17,"check"),a(),d(18," Confirmar "),a()()()),e&2&&(c(6),x(t.showWebcam&&!t.webcamImage?6:-1),c(),x(t.webcamImage?7:-1),c(),x(t.errors.length>0?8:-1),c(7),u("disabled",!t.webcamImage))},dependencies:[ti,ei,X,Z,K,O,P,T,me,U],styles:[".webcam-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:10px;width:100%;height:100%}.camera-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;width:100%;position:relative}  webcam{width:100%!important;height:auto!important;display:block}  webcam video{width:100%!important;height:auto!important;max-width:100%!important;object-fit:contain!important;border-radius:8px;background-color:#000}@media (max-width: 768px){.webcam-container[_ngcontent-%COMP%]{padding:5px}  webcam video{object-fit:cover!important;max-height:60vh}}@media (max-width: 480px){  webcam video{object-fit:contain!important;max-height:50vh;border-radius:4px}}.capture-controls[_ngcontent-%COMP%]{margin-top:15px;z-index:10}.capture-button[_ngcontent-%COMP%]{width:60px;height:60px;box-shadow:0 4px 8px #0000004d}.capture-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:28px;width:28px;height:28px}.image-preview[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;width:100%}.captured-image[_ngcontent-%COMP%]{max-width:100%;height:auto;border-radius:8px;box-shadow:0 4px 8px #0000001a}.preview-controls[_ngcontent-%COMP%]{margin-top:15px}.error-section[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding:20px}.error-message[_ngcontent-%COMP%]{color:#f44336;display:flex;align-items:center;gap:8px}"]})};var ki=(o,r,e,t)=>({enTransito:o,enEntregado:r,enCancelado:e,asignado:t});function Ii(o,r){if(o&1&&(n(0,"div",7),_(1,"app-estado-registro-detalle",10),a()),o&2){let e=b(2);c(),u("registros",e.pedido.registros)}}function wi(o,r){if(o&1){let e=C();n(0,"button",4),l("click",function(){p(e);let i=b(2);return h(i.takePhoto())}),n(1,"mat-icon"),d(2,"photo_camera"),a()()}}function xi(o,r){if(o&1){let e=C();n(0,"mat-card-content")(1,"div",5)(2,"p")(3,"span",6),d(4,"Prioridad: "),a(),d(5),a(),n(6,"p")(7,"span",6),d(8,"Cliente: "),a(),d(9),a(),n(10,"p")(11,"span",6),d(12,"Direcci\xF3n de Entrega: "),a(),d(13),a()(),w(14,Ii,2,1,"div",7),a(),n(15,"mat-card-actions",8),w(16,wi,3,0,"button",9),n(17,"button",4),l("click",function(){p(e);let i=b();return h(i.downloadPdfInvoice())}),n(18,"mat-icon"),d(19,"receipt"),a()(),n(20,"button",4),l("click",function(){p(e);let i=b();return h(i.toggleDetails())}),n(21,"mat-icon"),d(22,"format_list_numbered"),a()()()}if(o&2){let e=b();c(5),M(" ",e.pedido.prioridad," "),c(4),oe(e.pedido.cliente),c(4),M("",e.pedido.direccionEntrega," "),c(),x(e.showDetails?14:-1),c(2),x(e.pedido.estadoPedido==="ENTREGADO"?16:-1)}}var ke=class o{pedido;changeStateOrder=new E;dialog=g(ue);_snackBar=g(Wt);conductorTrackService=g($);cont=0;estadosPosibles=["EN_TRANSITO","ENTREGADO","CANCELADO"];showDetails=!1;showBody=!1;takePhoto(){console.log("Tomando foto..."),this.dialog.open(Ce,{width:"80vw",height:"80vh",maxWidth:"800px",data:{}}).afterClosed().subscribe(e=>{e.ok&&this.enviarImagenAlServidor(e.imageAsBase64)})}enviarImagenAlServidor(r){let e={imagenBase64:r};this.conductorTrackService.uploadImagen(this.pedido.id,e).subscribe({next:t=>{this._snackBar.open("Imagen enviada exitosamente","Cerrar",{duration:3e3})},error:t=>{console.error("Error al enviar la imagen:",t),this._snackBar.open("Error al enviar la imagen","Cerrar",{duration:3e3})}})}downloadPdfInvoice(){console.log("Descargando PDF de la factura...")}changeState(r){if(r.stopPropagation(),this.pedido.estadoPedido==="CANCELADO"){this._snackBar.open("No se puede cambiar el estado","Cerrar",{duration:3e3});return}let e=this.getNuevoEstado(this.pedido.estadoPedido);this.dialog.open(ve,{data:{estado:e}}).afterClosed().subscribe(i=>{i.ok&&(this.pedido.estadoPedido=e,this.changeStateOrder.emit({estado:this.pedido.estadoPedido,comentarios:i.comentarios}))})}toggleDetails(){this.showDetails=!this.showDetails}toggleBody(){this.showBody=!this.showBody}getNuevoEstado(r){return r==="EN_TRANSITO"?"ENTREGADO":r==="ENTREGADO"?"CANCELADO":"EN_TRANSITO"}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=v({type:o,selectors:[["app-card-tabla-pedidos"]],inputs:{pedido:"pedido"},outputs:{changeStateOrder:"changeStateOrder"},standalone:!0,features:[k],decls:14,vars:9,consts:[["appearance","outlined",1,"example-card"],[1,"header-card",3,"click"],[2,"display","flex","justify-content","space-between","align-items","center","width","100%"],[2,"padding","5px","text-align","center","margin-top","5px",3,"ngClass"],["mat-mini-fab","",3,"click"],[2,"display","flex","flex-direction","column","margin-top","10px"],[2,"font-weight","700"],[1,"details-container"],[2,"display","flex","justify-content","space-around"],["mat-mini-fab",""],[3,"registros"]],template:function(e,t){e&1&&(n(0,"mat-card",0)(1,"mat-card-header",1),l("click",function(){return t.toggleBody()}),n(2,"div",2)(3,"div")(4,"mat-card-title"),d(5),a(),n(6,"mat-card-subtitle")(7,"p",3),d(8),a()()(),n(9,"div")(10,"button",4),l("click",function(s){return t.changeState(s)}),n(11,"mat-icon"),d(12,"swipe_up"),a()()()()(),w(13,xi,23,5),a()),e&2&&(c(5),M("Pedido: ",t.pedido.numero,""),c(2),u("ngClass",rt(4,ki,t.pedido.estadoPedido==="EN_TRANSITO",t.pedido.estadoPedido==="ENTREGADO",t.pedido.estadoPedido==="CANCELADO",t.pedido.estadoPedido==="ASIGNADO")),c(),M(" ",t.pedido.estadoPedido," "),c(5),x(t.showBody?13:-1))},dependencies:[Gt,Pt,Vt,Rt,Nt,Ft,Ot,T,wt,O,P,ce,pe,Qt,Yt],styles:[".example-card[_ngcontent-%COMP%]{box-shadow:0 4px 8px #0000001a}.enTransito[_ngcontent-%COMP%]{color:#856404;background-color:#fff3cd;border:1px solid #ffeeba;border-radius:20px}.enEntregado[_ngcontent-%COMP%]{color:#004085;background-color:#cce5ff;border:1px solid #b8daff;border-radius:20px}.enCancelado[_ngcontent-%COMP%]{color:#721c24;background-color:#f8d7da;border:1px solid #f5c6cb;border-radius:20px}.asignado[_ngcontent-%COMP%]{color:#383d41;background-color:#e2e3e5;border:1px solid #d6d8db;border-radius:20px}.header-card[_ngcontent-%COMP%]{background-color:#fefefe;border-top-left-radius:10px;border-top-right-radius:10px}.details-container[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideDown .3s ease-out;transform-origin:top}@keyframes _ngcontent-%COMP%_slideDown{0%{opacity:0;transform:translateY(-10px);max-height:0}to{opacity:1;transform:translateY(0);max-height:500px}}.details-exit[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideUp .3s ease-in forwards}@keyframes _ngcontent-%COMP%_slideUp{0%{opacity:1;transform:translateY(0);max-height:500px}to{opacity:0;transform:translateY(-10px);max-height:0}}"]})};function Ei(o,r){o&1&&(n(0,"mat-icon"),d(1,"search"),a())}function Mi(o,r){o&1&&_(0,"app-loading",9),o&2&&u("diameter",30)}function Di(o,r){o&1&&d(0," Buscar")}function Si(o,r){if(o&1){let e=C();n(0,"app-card-tabla-pedidos",11),l("changeStateOrder",function(i){let s=p(e).$implicit,m=b();return h(m.cambiarEstadoPedido(i,s.id))}),a()}if(o&2){let e=r.$implicit;u("pedido",e)}}var Ie=class o{deviceService=g(_e);isMobile$=this.deviceService.isMobile$;dialog=g(ue);conductorService=g($);loginService=g(Mt);pedidosSubscription;displayedColumns=["actions","factura","prioridad","cliente","direntrega","docguia","transportista","estadopedido"];fechaHoy=new Date;dataSource=new Pe([]);loading=!1;loadingSave=!1;idMobile=!1;driverId=0;dataPedidos=[];ngOnInit(){let r=this.loginService.getCurrentUser();r&&r.driverId&&(this.driverId=r.driverId),this.isMobile$.subscribe(e=>{console.log("Es m\xF3vil:",e),this.idMobile=e})}cargarPedidos(){let e=new Date(this.fechaHoy.getTime()-18e6).toISOString().split("T")[0];this.loading=!0,this.pedidosSubscription=this.conductorService.listarPedidos(e,this.driverId).subscribe({next:t=>{t.success?(this.dataPedidos=t.data,this.dataSource=new Pe(t.data)):console.error("Error al cargar los pedidos:",t.message),this.loading=!1},error:t=>{console.error("Error al cargar los pedidos:",t),this.loading=!1}})}verPdfFactura(r){this.conductorService.obtenerFacturaPdfPorPedido(r.numero).subscribe({next:e=>{let t=window.URL.createObjectURL(e),i=document.createElement("a");i.href=t,i.download=`factura_${r.numero}.pdf`,i.click(),window.URL.revokeObjectURL(t)},error:e=>{console.error("Error al obtener el PDF de la factura:",e)}})}cambiarEstadoPedido(r,e){let i=new Date(new Date().getTime()-18e6).toISOString().split("T")[0];this.loadingSave=!0;let s={pedidoId:e,estadoPedido:r.estado,comentarios:r.comentarios||"",fechaEntrega:r.estado==="ENTREGADO"?i:"0001-01-01",nombreFoto:"",conductorId:this.driverId};console.log("Datos para actualizar el estado del pedido:",s),this.conductorService.actualizarEstadoPedido(s.pedidoId,s).subscribe({next:m=>{this.loadingSave=!1,m.data||console.error("Error updating order status:",m.message)},error:m=>{this.loadingSave=!1,console.error("Error:",m)}})}actualizarEstadoPedido(r){this.dialog.open(be,{data:{pedido:r},width:"500px"}).afterClosed().subscribe(t=>{t&&this.cargarPedidos()})}ngOnDestroy(){this.pedidosSubscription&&this.pedidosSubscription.unsubscribe()}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=v({type:o,selectors:[["app-page-conductor-track"]],standalone:!0,features:[de([vt(),{provide:ft,useClass:Lt},{provide:_t,useValue:qt}]),k],decls:25,vars:5,consts:[["picker",""],[1,"container-trackpedidos"],[2,"display","flex","justify-content","space-between","border","1px solid gainsboro","border-radius","5px","padding","5px","margin-bottom","5px"],[2,"display","flex","gap","5px","align-items","center"],[1,"section-controls"],["matInput","",3,"ngModelChange","matDatepicker","ngModel"],["matIconSuffix","",3,"for"],["touchUi",""],["mat-fab","","extended","",2,"width","84px",3,"click"],[3,"diameter"],[3,"pedido"],[3,"changeStateOrder","pedido"]],template:function(e,t){if(e&1){let i=C();n(0,"div",1)(1,"div",2)(2,"div",3)(3,"mat-icon"),d(4,"view_timeline"),a(),n(5,"label")(6,"strong"),d(7,"Operaciones Conductor"),a()()()(),n(8,"div",4)(9,"mat-form-field")(10,"mat-label"),d(11,"Seleccione fecha"),a(),n(12,"input",5),ne("ngModelChange",function(m){return p(i),re(t.fechaHoy,m)||(t.fechaHoy=m),h(m)}),a(),n(13,"mat-hint"),d(14,"DD/MM/YYYY"),a(),_(15,"mat-datepicker-toggle",6)(16,"mat-datepicker",7,0),a(),n(18,"button",8),l("click",function(){return p(i),h(t.cargarPedidos())}),w(19,Ei,2,0,"mat-icon"),n(20,"div"),w(21,Mi,1,1,"app-loading",9)(22,Di,1,0),a()()(),Xe(23,Si,1,1,"app-card-tabla-pedidos",10,Ze),a()}if(e&2){let i=it(17);c(12),u("matDatepicker",i),ae("ngModel",t.fechaHoy),c(3),u("for",i),c(4),x(t.idMobile?-1:19),c(2),x(t.loading?21:22),c(2),Ke(t.dataPedidos)}},dependencies:[O,P,Ut,zt,Bt,jt,Q,q,L,xt,Et,Y,W,j,z,B,se,T,U,yt,At,Tt,pe,ke,Dt],styles:[".container-trackpedidos[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px;margin:10px}.section-controls[_ngcontent-%COMP%]{display:flex;gap:10px;border:1px solid #ccc;border-radius:5px;padding:5px}.cabecera[_ngcontent-%COMP%]{text-align:center;padding:0!important;background-color:#7d9ad6;color:#fff;border:1px solid #ccc!important;border-radius:5px}[_nghost-%COMP%]     .mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__text-label{color:#fff}"]})};var yi=[{path:"",redirectTo:"driverTrack",pathMatch:"full"},{path:"driverTrack",component:Ie}],we=class o{static \u0275fac=function(e){return new(e||o)};static \u0275mod=A({type:o});static \u0275inj=y({imports:[Ae.forChild(yi),Ae]})};var ii=class o{static \u0275fac=function(e){return new(e||o)};static \u0275mod=A({type:o});static \u0275inj=y({imports:[G,we]})};export{ii as ConductorModule};
